{% set page = "post" %}
{% extends "layout.html" %}

{% block content %}
<div
    class="min-h-screen bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-100 flex items-center justify-center py-12 px-4">
    <div class="container max-w-4xl bg-white p-6 rounded-xl shadow-md">

        <div class="mb-6">
            <h1 id="post-title" class="text-3xl font-bold text-gray-900"></h1>
            <p id="post-info" class="text-sm text-gray-500"></p>
        </div>

        <!-- 🎵 곡 카드 -->
        <div class="flex flex-col md:flex-row items-center bg-white rounded-lg shadow p-2 mb-2">
            <!-- 앨범 커버 -->
            <img id="album-cover" src="https://placehold.co/100x100?text=No+Image" alt="Album Cover"
                class="w-20 h-20 rounded-md shadow mb-3 md:mb-0 md:mr-4">

            <!-- 곡 정보 -->
            <div class="text-center md:text-left flex-grow">
                <h3 id="song-title" class="text-lg font-semibold">곡 제목</h3>
                <p id="artist" class="text-sm text-gray-600 mt-1">가수</p>

                <!-- 버튼 영역 -->
                <div class="mt-2 flex items-center justify-center md:justify-start gap-2">
                    <!-- 곡 좋아요 버튼 -->
                    <button id="music-like-btn"
                        class="text-pink-500 w-9 h-9 flex items-center justify-center rounded-full hover:bg-pink-100"
                        title="곡 좋아요">
                        <!-- 빈 하트 -->
                        <svg class="w-5 h-5" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" d="M21 8.25c0-2.485-2.099-4.5-4.688-4.5-1.935 0-3.597 
                          1.126-4.312 2.733-.715-1.607-2.377-2.733-4.313-2.733C5.1 
                          3.75 3 5.765 3 8.25c0 7.22 9 12 9 12s9-4.78 9-12z" />
                        </svg>
                    </button>

                    <!-- 미리듣기 버튼 -->
                    <button id="preview-btn"
                        class="w-7 h-7 rounded-full bg-indigo-600 text-white flex items-center justify-center shadow-lg transform transition-transform hover:scale-110 focus:outline-none">
                        <svg class="play-icon w-3 h-3" fill="currentColor" viewBox="0 0 20 20">
                            <path
                                d="M6.3 2.841A1.5 1.5 0 004 4.11V15.89a1.5 1.5 0 002.3 1.269l9.344-5.89a1.5 1.5 0 000-2.538L6.3 2.84z">
                            </path>
                        </svg>
                        <svg class="pause-icon w-3 h-3 hidden" fill="currentColor" viewBox="0 0 20 20">
                            <path
                                d="M5.75 4.5a.75.75 0 00-.75.75v10.5a.75.75 0 001.5 0V5.25A.75.75 0 005.75 4.5zm8.5 0a.75.75 0 00-.75.75v10.5a.75.75 0 001.5 0V5.25a.75.75 0 00-.75-.75z">
                            </path>
                        </svg>
                    </button>
                </div>
            </div>

            <!-- 오디오 -->
            <audio id="preview-audio" preload="none"></audio>
        </div>

        <!-- 본문 -->
        <div id="post-content" class="prose max-w-none text-gray-800 mb-6 text-xl"></div>

        <!-- 게시글 좋아요 -->
        <div class="flex items-center mb-6">
            <div class="bg-slate-100 shadow-sm rounded-lg px-3 py-1.5 flex items-center gap-2 border border-gray-200">

                <form id="like-form" class="flex items-center gap-1.5">
                    <button type="submit" id="like-btn" class="flex items-center gap-1.5 text-gray-700">
                        <!-- 따봉 아이콘 -->
                        <div class="bg-gradient-to-r opacity-90 from-indigo-500 to-purple-600 
                    p-1 rounded-full flex items-center justify-center">
                            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor"
                                class="w-3 h-3 text-white transform -translate-y-0.5">
                                <path d="M2 10h4v12H2V10zm20 1c0-1.1-.9-2-2-2h-6.31l.95-4.57.03-.32
                     c0-.41-.17-.79-.44-1.06L13.17 2 7.59 7.59C7.22 7.95 7 8.45 
                     7 9v11c0 1.1.9 2 2 2h8c.83 0 1.54-.5 1.84-1.22l3.02-7.05
                     c.09-.23.14-.47.14-.73v-2z" />
                            </svg>
                        </div>
                        <b><span>플로우!</span></b>
                        <!-- 좋아요 개수 -->
                        <span id="like-count" class="text-gray-700 font-medium">0</span>
                    </button>
                </form>


            </div>
        </div>

        <!-- 댓글 작성 -->
        <div class="mb-4">
            <textarea name="comment" id="comment-input" rows="3" placeholder="댓글을 입력하세요"
                class="w-full border border-gray-300 rounded p-2"></textarea>
            <div class="text-right mt-2">
                <button id="submit-comment" type="button"
                    class="bg-indigo-600 text-white px-4 py-2 rounded hover:bg-indigo-700">
                    댓글 달기
                </button>
            </div>
        </div>

        <!-- 댓글 목록 -->
        <div>
            <h3 class="text-lg font-semibold text-gray-800 mb-2">
                댓글 <span id="comment-count" class="text-indigo-600">0</span>
            </h3>
            <div id="comment-list"></div>
        </div>

    </div>
</div>
{% endblock %}