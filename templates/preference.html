{% set page = "preference" %}
{% include "layout.html" %}

{% block content %}
{% if status == "need_login" %}
<div class="bg-white/90 p-6 rounded-2xl shadow-xl text-center">
    <h2 class="text-2xl font-bold text-slate-800 mb-4">로그인이 필요한 서비스입니다.</h2>
    <a href="/login">
        <button class="bg-indigo-600 text-white px-4 py-2 rounded-lg hover:bg-indigo-700">
            로그인 하러 가기
        </button>
    </a>
</div>
{% else %}
<div class="min-h-screen bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-100 py-8">
    <main class="max-w-6xl mx-auto bg-white shadow-2xl rounded-xl p-8">
        <p class="text-slate-600 mb-8">선호하는 장르를 1개 이상 선택해주세요. (최대 5개)</p>

        <div class="mb-8">
            <h3 class="text-xl font-semibold text-slate-700 mb-4">장르 선택</h3>
            <div id="genre-container" class="grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 gap-4">
            </div>
        </div>

        <div class="mb-8">
            <h2 class="text-xl font-semibold text-slate-700 mb-4">대표 아티스트 선택</h2>
            <p class="text-slate-600 mb-8">선호하는 아티스트를 1개 이상 선택해주세요. (최대 7개)</p>
            <div id="artist-container" class="grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 gap-4">
            </div>
        </div>

        <button id="save-preference" data-user="{{ session.get('user_id') }}"
            class="w-full mt-4 bg-indigo-600 hover:bg-indigo-700 text-white font-bold px-6 py-3 rounded-lg text-lg transition-all duration-300 shadow-lg hover:shadow-xl">
            선택 완료하고 추천받기
        </button>
    </main>
</div>
{% endif %}
{% endblock %}